@model IEnumerable<CardGame.DAL.Model.tblperson>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>


<div class="jumbotron" style="margin-bottom:-50px; height:500px; overflow-y: scroll;overflow-x:hidden;">
    <p>
        @Html.ActionLink("Userlist", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.firstname)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.lastname)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.gamertag)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.isactive)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.userrole)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.firstname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.lastname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.gamertag)
                </td>
                <td style="color:black">
                    @Html.DisplayFor(modelItem => item.isactive)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.userrole)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.idperson }) |
                    @Html.ActionLink("Details", "Details", new { id = item.idperson })
                </td>
            </tr>
        }

    </table>

    <div style="margin-top:50px">
        <h4><span class="borderbutton">@Html.ActionLink("Home", "Index", "Home")</span></h4>
    </div>

</div>

<div class="jumbotron" style="margin-bottom:200px; height:650px; overflow-y: scroll;overflow-x:hidden;">
    <p>
        @Html.ActionLink("sale statistics", "Index")
    </p>
    <div id="chart" style="width: 1000px; height: 500px; background-color:transparent;"></div>
</div>



<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            $.ajax({
                type: "POST",
                url: "/Administration/Statistic",
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    var data = google.visualization.arrayToDataTable(r);

                    ////OPTIONS
                    //var options = {
                    //    title: 'Sold Packs',
                    //    pieHole: 0.5
                    //};
                    ////OPTIONS END

                    //var chart = new google.visualization.PieChart($("#chart")[0]);
                    //chart.draw(data, options);


                    var options = {
                        title: 'Sold Packs',
                        hAxis: { title: 'Packs' },
                        colors: ['#2e3b60'],
                        tooltip: { isHtml: true }
                    };
                    

                    var chart = new google.visualization.ColumnChart($("#chart")[0]);
                    

                    chart.draw(data, options);


                },
                failure: function (r) { alert(r.d); },
                error: function (r) { alert(r.d); }
            });
        }
</script>
